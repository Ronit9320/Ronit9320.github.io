<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>React Test</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 20px;
      line-height: 1.6;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background-color: #f9f9f9;
    }
    .success {
      color: green;
      font-weight: bold;
    }
    .error {
      color: red;
      font-weight: bold;
    }
    pre {
      background: #f0f0f0;
      padding: 10px;
      border-radius: 4px;
      overflow: auto;
    }
    button {
      background: #4285f4;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
    }
  </style>
  <!-- React CDN Links -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>React CDN Test</h1>
    <p>This page tests if React can render properly via CDN in your browser.</p>
    
    <!-- React will render here -->
    <div id="root"></div>
    
    <h2>Environment Information</h2>
    <div id="env-info"></div>
    
    <h2>Asset Tests</h2>
    <div id="asset-tests">
      <p>Testing asset accessibility...</p>
    </div>

    <h2>Console Output</h2>
    <pre id="console-output">Loading...</pre>
  </div>
  
  <!-- React Component -->
  <script type="text/babel">
    // Simple React component
    function TestComponent() {
      const [count, setCount] = React.useState(0);
      
      return (
        <div style={{ padding: '20px', border: '1px solid #ccc', borderRadius: '4px', marginBottom: '20px' }}>
          <h3>React Test Component</h3>
          <p className="success">✅ React is working!</p>
          <p>Counter: {count}</p>
          <button onClick={() => setCount(count + 1)}>Increment</button>
        </div>
      );
    }
    
    // Render the component
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<TestComponent />);
    
    // Display environment info
    function displayEnvInfo() {
      const envInfo = document.getElementById('env-info');
      const info = [
        `URL: ${window.location.href}`,
        `Protocol: ${window.location.protocol}`,
        `Host: ${window.location.host}`,
        `Path: ${window.location.pathname}`,
        `User Agent: ${navigator.userAgent}`,
        `React Version: ${React.version}`,
        `ReactDOM Version: ${ReactDOM.version}`
      ];
      
      envInfo.innerHTML = `<pre>${info.join('\n')}</pre>`;
    }
    
    // Test asset paths
    function testAssets() {
      const assetTests = document.getElementById('asset-tests');
      const results = [];
      
      // Define assets to test
      const assets = [
        { path: './favicon.ico', type: 'image', name: 'Favicon' },
        { path: './assets/index.js', type: 'script', name: 'Main JS' },
        { path: './assets/index.css', type: 'style', name: 'Main CSS' }
      ];
      
      // Test each asset
      assets.forEach(asset => {
        const tester = asset.type === 'image' ? new Image() :
                       asset.type === 'script' ? document.createElement('script') :
                       document.createElement('link');
        
        if (asset.type === 'style') {
          tester.rel = 'stylesheet';
          tester.href = asset.path;
        } else {
          tester.src = asset.path;
        }
        
        tester.onload = () => {
          results.push(`<p class="success">✅ ${asset.name} (${asset.path}): Found</p>`);
          updateResults();
        };
        
        tester.onerror = () => {
          results.push(`<p class="error">❌ ${asset.name} (${asset.path}): Not Found</p>`);
          updateResults();
        };
        
        // Start testing
        if (asset.type === 'image') {
          tester.src = asset.path;
        } else if (asset.type === 'style') {
          document.head.appendChild(tester);
        } else {
          document.body.appendChild(tester);
        }
      });
      
      function updateResults() {
        assetTests.innerHTML = results.join('');
      }
    }
    
    // Override console methods to capture output
    (function setupConsoleCapture() {
      const consoleOutput = document.getElementById('console-output');
      const log = [];
      
      const originalConsole = {
        log: console.log,
        error: console.error,
        warn: console.warn,
        info: console.info
      };
      
      function captureLog(type, args) {
        const timestamp = new Date().toISOString().split('T')[1].split('.')[0];
        const message = Array.from(args).map(arg => 
          typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
        ).join(' ');
        
        log.push(`[${timestamp}] [${type}] ${message}`);
        consoleOutput.textContent = log.join('\n');
        return args; // Pass through for original console
      }
      
      console.log = function() {
        originalConsole.log.apply(console, captureLog('log', arguments));
      };
      
      console.error = function() {
        originalConsole.error.apply(console, captureLog('ERROR', arguments));
      };
      
      console.warn = function() {
        originalConsole.warn.apply(console, captureLog('WARN', arguments));
      };
      
      console.info = function() {
        originalConsole.info.apply(console, captureLog('info', arguments));
      };
      
      // Log initial message
      console.log('Console capture initialized');
    })();
    
    // Run all tests
    displayEnvInfo();
    testAssets();
  </script>
</body>
</html> 